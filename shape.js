// this script is used to generate a shape and check if a point is inside the shape!
// some code uses the p5.js library for drawing and noise generation
// other code is pure points from a leaf shape svg translated into points T_T

  function pointInPolygon(x, y, polygon) {
    let inside = false;
    for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {
      const xi = polygon[i][0], yi = polygon[i][1];
      const xj = polygon[j][0], yj = polygon[j][1];
      const intersect = ((yi > y) !== (yj > y)) &&
        (x < (xj - xi) * (y - yi) / (yj - yi + 0.0001) + xi);
      if (intersect) inside = !inside;  
    }
    return inside;
  }
  
  function isInLeafShape(x, y, t) {
    const cx = width / 2;
    const cy = height / 2;
    const scale = 800 * t;
  
    const localX = (x - cx) / scale;
    const localY = (y - cy) / scale;
  
    return pointInPolygon(localX, localY, leafPolygon);
  }


  const leafPolygon = [
    [-0.0138, 0.4985],
    [-0.0135, 0.4974],
    [-0.0127, 0.4951],
    [-0.0115, 0.4919],
    [-0.0100, 0.4883],
    [-0.0082, 0.4822],
    [-0.0077, 0.4740],
    [-0.0087, 0.4609],
    [-0.0111, 0.4400],
    [-0.0133, 0.4212],
    [-0.0155, 0.3991],
    [-0.0174, 0.3762],
    [-0.0189, 0.3555],
    [-0.0202, 0.3376],
    [-0.0215, 0.3226],
    [-0.0226, 0.3119],
    [-0.0236, 0.3072],
    [-0.0260, 0.3060],
    [-0.0314, 0.3054],
    [-0.0398, 0.3054],
    [-0.0512, 0.3060],
    [-0.1133, 0.3103],
    [-0.1519, 0.3142],
    [-0.1792, 0.3195],
    [-0.2075, 0.3278],
    [-0.2204, 0.3314],
    [-0.2332, 0.3338],
    [-0.2481, 0.3355],
    [-0.2671, 0.3366],
    [-0.2817, 0.3371],
    [-0.2944, 0.3372],
    [-0.3038, 0.3370],
    [-0.3085, 0.3364],
    [-0.3108, 0.3351],
    [-0.3111, 0.3334],
    [-0.3092, 0.3305],
    [-0.3049, 0.3258],
    [-0.2981, 0.3174],
    [-0.2937, 0.3089],
    [-0.2920, 0.3012],
    [-0.2933, 0.2949],
    [-0.3012, 0.2874],
    [-0.3167, 0.2793],
    [-0.3387, 0.2711],
    [-0.3662, 0.2632],
    [-0.3816, 0.2592],
    [-0.3945, 0.2555],
    [-0.4037, 0.2526],
    [-0.4077, 0.2509],
    [-0.4077, 0.2487],
    [-0.4054, 0.2447],
    [-0.4011, 0.2392],
    [-0.3950, 0.2323],
    [-0.3862, 0.2226],
    [-0.3813, 0.2154],
    [-0.3794, 0.2088],
    [-0.3796, 0.2010],
    [-0.3829, 0.1925],
    [-0.3915, 0.1824],
    [-0.4064, 0.1701],
    [-0.4283, 0.1548],
    [-0.4418, 0.1456],
    [-0.4529, 0.1378],
    [-0.4603, 0.1322],
    [-0.4631, 0.1295],
    [-0.4617, 0.1282],
    [-0.4579, 0.1259],
    [-0.4524, 0.1231],
    [-0.4455, 0.1200],
    [-0.4262, 0.1105],
    [-0.4165, 0.1008],
    [-0.4149, 0.0879],
    [-0.4198, 0.0685],
    [-0.4260, 0.0478],
    [-0.4324, 0.0245],
    [-0.4380, 0.0027],
    [-0.4416, -0.0138],
    [-0.4471, -0.0379],
    [-0.4551, -0.0683],
    [-0.4636, -0.0968],
    [-0.4701, -0.1155],
    [-0.4735, -0.1220],
    [-0.4781, -0.1294],
    [-0.4833, -0.1369],
    [-0.4886, -0.1434],
    [-0.4934, -0.1491],
    [-0.4971, -0.1542],
    [-0.4994, -0.1582],
    [-0.5000, -0.1605],
    [-0.4755, -0.1644],
    [-0.4231, -0.1598],
    [-0.3650, -0.1496],
    [-0.3236, -0.1369],
    [-0.3167, -0.1335],
    [-0.3079, -0.1295],
    [-0.2983, -0.1254],
    [-0.2891, -0.1216],
    [-0.2796, -0.1175],
    [-0.2695, -0.1125],
    [-0.2599, -0.1072],
    [-0.2520, -0.1023],
    [-0.2285, -0.0878],
    [-0.2134, -0.0829],
    [-0.2047, -0.0877],
    [-0.2009, -0.1022],
    [-0.1985, -0.1178],
    [-0.1949, -0.1339],
    [-0.1902, -0.1496],
    [-0.1848, -0.1637],
    [-0.1820, -0.1713],
    [-0.1787, -0.1822],
    [-0.1754, -0.1949],
    [-0.1725, -0.2078],
    [-0.1693, -0.2242],
    [-0.1679, -0.2352],
    [-0.1679, -0.2431],
    [-0.1694, -0.2504],
    [-0.1724, -0.2640],
    [-0.1710, -0.2696],
    [-0.1637, -0.2679],
    [-0.1491, -0.2596],
    [-0.1365, -0.2528],
    [-0.1252, -0.2482],
    [-0.1164, -0.2461],
    [-0.1115, -0.2471],
    [-0.1111, -0.2486],
    [-0.1113, -0.2515],
    [-0.1120, -0.2554],
    [-0.1131, -0.2598],
    [-0.1147, -0.2668],
    [-0.1142, -0.2744],
    [-0.1112, -0.2860],
    [-0.1049, -0.3050],
    [-0.0997, -0.3193],
    [-0.0942, -0.3327],
    [-0.0890, -0.3439],
    [-0.0847, -0.3513],
    [-0.0762, -0.3640],
    [-0.0660, -0.3805],
    [-0.0534, -0.4016],
    [-0.0380, -0.4284],
    [-0.0201, -0.4583],
    [-0.0049, -0.4809],
    [0.0070, -0.4951],
    [0.0149, -0.5000],
    [0.0164, -0.4991],
    [0.0175, -0.4963],
    [0.0180, -0.4914],
    [0.0181, -0.4841],
    [0.0184, -0.4767],
    [0.0193, -0.4683],
    [0.0207, -0.4598],
    [0.0224, -0.4525],
    [0.0310, -0.4296],
    [0.0444, -0.4014],
    [0.0604, -0.3719],
    [0.0770, -0.3453],
    [0.0881, -0.3295],
    [0.0951, -0.3208],
    [0.1003, -0.3171],
    [0.1055, -0.3163],
    [0.1093, -0.3167],
    [0.1134, -0.3176],
    [0.1173, -0.3190],
    [0.1205, -0.3208],
    [0.1241, -0.3231],
    [0.1264, -0.3239],
    [0.1282, -0.3231],
    [0.1303, -0.3206],
    [0.1318, -0.3163],
    [0.1333, -0.3081],
    [0.1346, -0.2969],
    [0.1356, -0.2835],
    [0.1368, -0.2669],
    [0.1383, -0.2557],
    [0.1403, -0.2482],
    [0.1433, -0.2425],
    [0.1525, -0.2280],
    [0.1596, -0.2148],
    [0.1649, -0.2021],
    [0.1690, -0.1893],
    [0.1711, -0.1816],
    [0.1734, -0.1748],
    [0.1754, -0.1695],
    [0.1770, -0.1666],
    [0.1787, -0.1634],
    [0.1811, -0.1577],
    [0.1839, -0.1501],
    [0.1867, -0.1416],
    [0.1899, -0.1299],
    [0.1920, -0.1184],
    [0.1931, -0.1056],
    [0.1936, -0.0894],
    [0.1947, -0.0588],
    [0.1986, -0.0440],
    [0.2075, -0.0423],
    [0.2236, -0.0507],
    [0.2309, -0.0551],
    [0.2385, -0.0594],
    [0.2454, -0.0631],
    [0.2507, -0.0657],
    [0.2559, -0.0683],
    [0.2624, -0.0717],
    [0.2695, -0.0757],
    [0.2762, -0.0796],
    [0.2906, -0.0871],
    [0.3086, -0.0943],
    [0.3300, -0.1013],
    [0.3547, -0.1081],
    [0.4154, -0.1234],
    [0.4546, -0.1343],
    [0.4798, -0.1427],
    [0.4980, -0.1509],
    [0.4988, -0.1506],
    [0.4994, -0.1487],
    [0.4998, -0.1458],
    [0.5000, -0.1420],
    [0.4991, -0.1360],
    [0.4966, -0.1276],
    [0.4924, -0.1171],
    [0.4867, -0.1047],
    [0.4809, -0.0920],
    [0.4749, -0.0778],
    [0.4694, -0.0637],
    [0.4651, -0.0516],
    [0.4579, -0.0304],
    [0.4499, -0.0084],
    [0.4404, 0.0160],
    [0.4290, 0.0442],
    [0.4232, 0.0576],
    [0.4176, 0.0682],
    [0.4117, 0.0769],
    [0.4052, 0.0846],
    [0.4002, 0.0899],
    [0.3961, 0.0946],
    [0.3934, 0.0981],
    [0.3924, 0.0998],
    [0.3928, 0.1008],
    [0.3938, 0.1024],
    [0.3954, 0.1042],
    [0.3973, 0.1060],
    [0.4005, 0.1081],
    [0.4050, 0.1095],
    [0.4110, 0.1103],
    [0.4188, 0.1105],
    [0.4253, 0.1106],
    [0.4306, 0.1110],
    [0.4341, 0.1114],
    [0.4354, 0.1120],
    [0.4338, 0.1169],
    [0.4295, 0.1244],
    [0.4236, 0.1330],
    [0.4169, 0.1412],
    [0.4020, 0.1590],
    [0.3866, 0.1790],
    [0.3741, 0.1966],
    [0.3678, 0.2076],
    [0.3668, 0.2114],
    [0.3665, 0.2149],
    [0.3669, 0.2180],
    [0.3680, 0.2210],
    [0.3733, 0.2271],
    [0.3823, 0.2342],
    [0.3931, 0.2408],
    [0.4037, 0.2457],
    [0.4077, 0.2474],
    [0.4112, 0.2493],
    [0.4137, 0.2511],
    [0.4151, 0.2528],
    [0.4143, 0.2560],
    [0.4110, 0.2599],
    [0.4065, 0.2631],
    [0.4023, 0.2645],
    [0.3989, 0.2656],
    [0.3914, 0.2685],
    [0.3809, 0.2728],
    [0.3686, 0.2781],
    [0.3317, 0.2947],
    [0.3094, 0.3068],
    [0.2985, 0.3165],
    [0.2955, 0.3261],
    [0.2979, 0.3344],
    [0.3041, 0.3450],
    [0.3128, 0.3559],
    [0.3227, 0.3652],
    [0.3260, 0.3681],
    [0.3283, 0.3708],
    [0.3295, 0.3732],
    [0.3294, 0.3749],
    [0.3130, 0.3775],
    [0.2774, 0.3771],
    [0.2355, 0.3744],
    [0.2000, 0.3698],
    [0.1684, 0.3635],
    [0.1460, 0.3585],
    [0.1301, 0.3540],
    [0.1178, 0.3495],
    [0.1086, 0.3459],
    [0.0964, 0.3417],
    [0.0827, 0.3373],
    [0.0691, 0.3333],
    [0.0557, 0.3293],
    [0.0424, 0.3250],
    [0.0308, 0.3209],
    [0.0224, 0.3175],
    [0.0159, 0.3147],
    [0.0097, 0.3125],
    [0.0043, 0.3110],
    [0.0006, 0.3104],
    [-0.0029, 0.3108],
    [-0.0048, 0.3128],
    [-0.0056, 0.3175],
    [-0.0058, 0.3263],
    [-0.0049, 0.3474],
    [-0.0026, 0.3735],
    [0.0010, 0.4021],
    [0.0055, 0.4306],
    [0.0104, 0.4601],
    [0.0125, 0.4782],
    [0.0119, 0.4885],
    [0.0089, 0.4943],
    [0.0037, 0.4973],
    [-0.0040, 0.4994],
    [-0.0108, 0.5000],
    [-0.0138, 0.4985],
    [-0.0138, 0.4985],
    [-0.0138, 0.4985],
    [-0.0138, 0.4985],
  ];
  